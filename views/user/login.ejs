<%- include('header.ejs') %>
<head>
    <link rel="shortcut icon" href="/assets/images/fav.png" type="image/x-icon">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet">
        <link rel="shortcut icon" href="/assets/images/fav.jpg">
        <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
</head>
    <body class="bg-white">
        <div class="container-fluid vh-100 " style="height: 100%;">
            <div class="row vh-100 " style="height: 100%;">
                <div class="col-lg-6 col-sm-12  vh-100">
                    <form action="/login" method="post" data-eerror="<%= Eerror %>" data-perror="<%= Perror %>" >
                        <div class="row d-flex vh-100">
                            <div class="col-md-8 p-4 ikigui m-auto text-center align-items-center">
                                <p style="margin-bottom: 1rem; text-align: center;font-size: medium;  color: red;">
                                    <%= gError %>
                                </p>
                                
                                <h4 class="text-center fw-bolder mb-5 fs-2">Login</h4>
                                
                                <div class="input-group mb-4">
                                    <span class="input-group-text border-end-0 inbg " id="basic-addon2"><i
                                            class="bi bi-envelope"></i></span>
                                    <input name="email" type="text"
                                        class="   form-control ps-2 border-start-0 fs-7 inbg form-control-lg mb-0"
                                        id="emailInput" placeholder="Enter Email Address" aria-label="Username"
                                        aria-describedby="basic-addon1">
                                    <p style="text-align: left;font-size: smaller; margin-left: .5em; margin-top: .5em; display: none;color: red;"
                                        id="error-email"><%= Eerror %></p>
                                </div>
        
                                <div class="input-group mb-4">
                                    <span class="input-group-text border-end-0 inbg" id="basic-addon4"><i
                                            class="bi bi-lock"></i></span>
                                    <input id="passInput" name="pass" type="password"
                                        class="form-control ps-2 fs-7 border-start-0 form-control-lg inbg mb-0"
                                        placeholder="Confirm Password" aria-label="Username"
                                        aria-describedby="basic-addon1">
                                        <p style="text-align: left;font-size: smaller; margin-left: .5em; margin-top: .5em; display: none;color: red;"
                                        id="error-pass"></p>
                                </div>

                                <button class="btn btn-lg fw-bold fs-7 btn-success  w-100"
                                    type="submit">Login</button>

                                <p class="text-center py-4 fw-bold fs-8"></p>

                                
                            </div>

                        </div>
                    </form>
                    
                </div>
                <div class="col-lg-6 bg-white p-5 text-center controller" >
                  <h4 class="text-center fw-bolder fs-2">Register</h4>
                  <p class="mb-3 fs-7">Register Now and Fell the New Digital World</p>
                  <a href="/getRegister">
                      <button class="btn fw-bold mb-5 btn-outline-success px-4 rounded-pill">Sign Up</button>
                  </a>
                  <div class="img-cover p-4">
                       <img src="/assets/images/healthy-lifestyle-illustration-with-organic-vegetables-or-fruit-sport-and-workout-in-flat-cartoon-hand-drawn-background-design-templates-vector.jpg" alt="">
                  </div>
               </div>
            </div>
        </div>  
        <script>
            // Retrieve error data from the form's data attributes
            const form = document.querySelector('form');
            const eError = form.getAttribute('data-eerror');
            const pError = form.getAttribute('data-perror');
            
            console.log(eError+ 'hello');
        
            // Email error handling
            let email = document.getElementById('emailInput');
            let err = document.getElementById('error-email');
            let icon = document.getElementById('basic-addon2');
            if ('<%= Eerror %>') {
              email.classList.add('border-danger');
              err.textContent = eError + " *";
              err.style.display = 'block';
              icon.classList.add('border-danger', 'text-danger');
            }
        
            // Password error handling
            let pass = document.getElementById('passInput');
            let perr = document.getElementById('error-pass');
            let picon = document.getElementById('basic-addon4');
            if (pError) {
              pass.classList.add('border-danger');
              perr.textContent = pError + " *";
              perr.style.display = 'block';
              picon.classList.add('border-danger', 'text-danger');
            }

            

        </script>
        <%- include('footer.ejs') %>
